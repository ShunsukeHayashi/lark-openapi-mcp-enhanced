# CRM/SFA システム実装ガイド
## Lark Base 総合営業支援システム 構築手順書

### 🎯 プロジェクト概要
既存のYouTube動画処理システムを基盤として、包括的なCRM/SFA（営業支援自動化）システムを構築します。

---

## 📋 実装前チェックリスト

### 準備事項
- [ ] Lark Base管理者権限を確認
- [ ] 既存のYouTube動画管理テーブル構造を確認
- [ ] 通知設定テーブルの動作を確認
- [ ] 実装チームのロール分担を決定
- [ ] バックアップ計画を策定

### 必要なファイル
- [ ] `crm-system-design.md` - システム設計書
- [ ] `table-schemas.json` - テーブル定義
- [ ] `automation-rules.json` - 自動化ルール
- [ ] `views-dashboards.json` - ビュー・ダッシュボード設定
- [ ] `youtube-integration.json` - YouTube連携設定
- [ ] `japanese-localization.json` - 日本語対応設定

---

## 🚀 実装手順

### フェーズ1: 基本テーブル作成 (推定: 2-3時間)

#### 1.1 営業パイプライン管理テーブル作成
```
テーブル名: 営業パイプライン管理 (tbl_sales_pipeline)
```

**必要フィールド設定:**
1. **案件ID** (自動番号) - プレフィックス: "SL-"
2. **案件名** (単行テキスト) - 必須
3. **顧客名** (リンクフィールド) - 後で顧客管理テーブルとリンク
4. **営業段階** (単一選択)
   - 見込み (青)
   - 商談 (黄)
   - 提案 (橙)
   - 成約 (緑)
   - 完了 (紫)
   - 失注 (赤)
5. **予想売上金額** (数値) - 通貨(円)
6. **確度** (数値) - パーセント(0-100)
7. **見込み売上** (計算フィールド) - 後で設定
8. **担当者** (人物) - 必須
9. **作成日** (作成日時)
10. **更新日** (更新日時)
11. **商談予定日** (日付)
12. **関連YouTube動画** (リンクフィールド) - 後で設定
13. **備考** (複数行テキスト)

#### 1.2 顧客管理テーブル作成
```
テーブル名: 顧客管理 (tbl_customer_management)
```

**必要フィールド設定:**
1. **顧客ID** (自動番号) - プレフィックス: "CU-"
2. **会社名** (単行テキスト) - 必須
3. **担当者名** (単行テキスト) - 必須
4. **電話番号** (電話番号)
5. **メールアドレス** (メール)
6. **住所** (複数行テキスト)
7. **業界** (単一選択)
   - IT・通信, 製造業, 小売・EC, 金融・保険, 建設・不動産, 医療・福祉, 教育, その他
8. **企業規模** (単一選択)
   - 大企業, 中小企業, 個人事業主
9. **顧客ステータス** (単一選択)
   - 見込み客, 既存客, VIP客, 休眠客
10. **最終接触日** (日付)
11. **関連案件数** (集計フィールド) - 後で設定
12. **累計売上** (集計フィールド) - 後で設定
13. **作成日** (作成日時)
14. **担当営業** (人物) - 必須
15. **備考** (複数行テキスト)

#### 1.3 活動履歴テーブル作成
```
テーブル名: 活動履歴 (tbl_activity_history)
```

**必要フィールド設定:**
1. **活動ID** (自動番号) - プレフィックス: "AC-"
2. **活動タイプ** (単一選択)
   - 電話, メール, 商談, プレゼン, 訪問, その他
3. **顧客名** (リンクフィールド) - 顧客管理テーブルとリンク
4. **案件名** (リンクフィールド) - 営業パイプラインテーブルとリンク
5. **実施日** (日付) - 必須
6. **実施時間** (時刻)
7. **担当者** (人物) - 必須
8. **活動内容** (複数行テキスト) - 必須
9. **次回予定日** (日付)
10. **次回予定内容** (単行テキスト)
11. **ステータス** (単一選択) - 完了, 予定, キャンセル
12. **重要度** (単一選択) - 高, 中, 低
13. **作成日時** (作成日時)

#### 1.4 営業目標・実績テーブル作成
```
テーブル名: 営業目標・実績 (tbl_sales_targets)
```

**必要フィールド設定:**
1. **レコードID** (自動番号) - プレフィックス: "ST-"
2. **対象年月** (日付) - 必須
3. **担当者** (人物) - 必須
4. **月次売上目標** (数値) - 通貨(円)
5. **見込み売上合計** (集計フィールド) - 後で設定
6. **実績売上** (数値) - 通貨(円)
7. **達成率** (計算フィールド) - 後で設定
8. **新規顧客数目標** (数値)
9. **新規顧客数実績** (数値)
10. **商談数目標** (数値)
11. **商談数実績** (集計フィールド) - 後で設定
12. **四半期目標** (数値) - 通貨(円)
13. **年次目標** (数値) - 通貨(円)
14. **備考** (複数行テキスト)

### フェーズ2: テーブル関係設定 (推定: 1-2時間)

#### 2.1 リンクフィールドの設定
1. **営業パイプライン ← 顧客管理**
   - 営業パイプラインの「顧客名」フィールドを顧客管理テーブルにリンク
   - 関係: 多対一 (複数の案件が1つの顧客に関連)

2. **活動履歴 ← 顧客管理**
   - 活動履歴の「顧客名」フィールドを顧客管理テーブルにリンク
   - 関係: 多対一

3. **活動履歴 ← 営業パイプライン**
   - 活動履歴の「案件名」フィールドを営業パイプラインテーブルにリンク
   - 関係: 多対一

4. **営業パイプライン ← YouTube管理**
   - 営業パイプラインの「関連YouTube動画」フィールドを既存のYouTube管理テーブルにリンク
   - 関係: 多対多

#### 2.2 集計フィールドの設定
1. **顧客管理テーブル**
   ```
   関連案件数: COUNT({営業パイプライン管理})
   累計売上: SUM(FILTER({営業パイプライン管理.予想売上金額}, {営業パイプライン管理.営業段階} = '完了'))
   ```

2. **営業目標・実績テーブル**
   ```
   見込み売上合計: SUM(FILTER({営業パイプライン管理.見込み売上}, MONTH({営業パイプライン管理.商談予定日}) = MONTH({対象年月})))
   商談数実績: COUNT(FILTER({営業パイプライン管理}, MONTH({営業パイプライン管理.作成日}) = MONTH({対象年月})))
   ```

#### 2.3 計算フィールドの設定
1. **営業パイプラインテーブル**
   ```
   見込み売上: IF({予想売上金額} != BLANK(), {予想売上金額} * {確度} / 100, 0)
   ```

2. **営業目標・実績テーブル**
   ```
   達成率: IF({月次売上目標} != 0, {実績売上} / {月次売上目標} * 100, 0)
   ```

### フェーズ3: 自動化機能実装 (推定: 3-4時間)

#### 3.1 営業アラートシステム設定

**案件停滞アラート:**
```
条件: 営業段階 = '商談' AND 更新日から14日経過
通知先: 担当者 + マネージャー
頻度: 毎日09:00実行
```

**フォローアップ期限切れアラート:**
```
条件: 次回予定日 < 今日 AND ステータス = '予定'
通知先: 担当者
頻度: 毎日09:00実行
```

**月次目標進捗アラート:**
```
条件: 達成率 < 70% AND 月末まで5日以内
通知先: 担当者 + マネージャー
頻度: 毎日10:00実行
```

#### 3.2 ワークフロー自動化設定

**営業段階自動進行:**
```
トリガー: 活動履歴作成時
条件: 活動タイプ = 'プレゼン'
アクション: 関連案件の営業段階を'提案'に更新
```

**顧客ステータス自動更新:**
```
トリガー: 活動履歴作成時
アクション: 顧客の最終接触日を更新
```

#### 3.3 条件付き書式設定
- 営業段階別の色分け
- 確度による背景色変更
- 達成率による色分け

### フェーズ4: ビュー・ダッシュボード作成 (推定: 2-3時間)

#### 4.1 営業パイプライン関連ビュー
1. **営業段階別パイプライン (かんばんビュー)**
   - グループ化: 営業段階
   - 並び順: 見込み売上(降順)
   - 表示フィールド: 案件名, 顧客名, 予想売上金額, 担当者

2. **案件スケジュール (ガントチャート)**
   - 開始日: 作成日
   - 終了日: 商談予定日
   - グループ化: 担当者

3. **高額案件一覧 (グリッドビュー)**
   - フィルター: 予想売上金額 ≥ 500万円
   - 並び順: 予想売上金額(降順)

#### 4.2 顧客管理関連ビュー
1. **顧客ステータス別 (ギャラリービュー)**
   - グループ化: 顧客ステータス
   - 並び順: 最終接触日(新しい順)

2. **フォローアップ要顧客 (グリッドビュー)**
   - フィルター: 最終接触日から30日以上経過

#### 4.3 ダッシュボード作成
1. **営業概況ダッシュボード**
   - 営業パイプライン状況(ファネルチャート)
   - 売上予測(棒グラフ)
   - 高額案件TOP10(テーブル)
   - 顧客ステータス分布(円グラフ)

2. **営業実績ダッシュボード**
   - 月次実績推移(線グラフ)
   - 達成率比較(棒グラフ)
   - 今月の実績サマリー(指標)

### フェーズ5: YouTube連携機能実装 (推定: 2-3時間)

#### 5.1 既存YouTube管理テーブルの拡張
以下のフィールドを追加:
1. **営業活用度** (集計フィールド)
2. **成約貢献度** (集計フィールド)
3. **営業効果スコア** (計算フィールド)
4. **推奨営業段階** (複数選択)
5. **対象業界** (複数選択)

#### 5.2 動画推奨システム設定
```
トリガー: 営業パイプラインに新規案件作成時
条件: 顧客の業界 or 案件キーワードと動画タグのマッチング
アクション: 関連動画の推奨通知を送信
```

#### 5.3 統合ダッシュボード作成
- 動画営業活用統計
- 動画効果スコア分析
- 業界別動画活用状況
- コンテンツギャップ分析

### フェーズ6: 最終調整・テスト (推定: 2-3時間)

#### 6.1 データ投入テスト
1. サンプル顧客データ投入
2. サンプル案件データ投入
3. サンプル活動履歴投入
4. 目標・実績データ投入

#### 6.2 動作確認
1. 自動化ルールの動作確認
2. 通知機能の動作確認
3. 計算フィールドの計算確認
4. ビュー・ダッシュボードの表示確認

#### 6.3 権限設定
1. 営業マネージャー権限設定
2. 営業担当者権限設定
3. 営業アシスタント権限設定

---

## 🔧 運用開始後の設定

### 定期メンテナンス
- **毎週**: データ整合性チェック
- **毎月**: 不要レコードの整理
- **四半期**: テーブル構造の見直し
- **年次**: システム全体の最適化

### ユーザートレーニング
1. **基本操作研修** (2時間)
   - テーブル操作方法
   - データ入力ルール
   - ビューの使い方

2. **応用機能研修** (1時間)
   - ダッシュボード活用法
   - レポート作成方法
   - YouTube連携機能

### データバックアップ
- **毎日**: 自動バックアップ設定
- **毎週**: 手動バックアップ実行
- **毎月**: バックアップデータの検証

---

## 📊 期待される効果

### 定量的効果
- **営業効率**: 20-30%向上
- **案件管理精度**: 40-50%向上
- **フォローアップ漏れ**: 80%削減
- **レポート作成時間**: 70%短縮

### 定性的効果
- 営業プロセスの可視化
- チーム間の情報共有向上
- データドリブンな営業戦略
- 顧客満足度の向上

---

## 🚨 トラブルシューティング

### よくある問題と対処法

**問題**: 計算フィールドが正しく計算されない
**対処法**: 
1. 参照元フィールドのデータ型を確認
2. 数式の構文エラーをチェック
3. リンクフィールドの設定を確認

**問題**: 通知が送信されない
**対処法**:
1. 自動化ルールの条件を確認
2. 通知先ユーザーの設定を確認
3. Larkの通知設定を確認

**問題**: ダッシュボードに データが表示されない
**対処法**:
1. データソースの設定を確認
2. フィルター条件を見直し
3. 権限設定を確認

### サポート連絡先
- システム管理者: [連絡先]
- Larkサポート: [連絡先]
- 実装チーム: [連絡先]

---

## 📝 実装完了チェックリスト

### テーブル作成
- [ ] 営業パイプライン管理テーブル
- [ ] 顧客管理テーブル
- [ ] 活動履歴テーブル
- [ ] 営業目標・実績テーブル

### フィールド設定
- [ ] 全ての必須フィールド作成完了
- [ ] リンクフィールド設定完了
- [ ] 計算フィールド設定完了
- [ ] 集計フィールド設定完了

### 自動化機能
- [ ] 営業アラートシステム設定完了
- [ ] ワークフロー自動化設定完了
- [ ] 条件付き書式設定完了

### ビュー・ダッシュボード
- [ ] 主要ビュー作成完了
- [ ] ダッシュボード作成完了
- [ ] 権限設定完了

### YouTube連携
- [ ] 動画管理テーブル拡張完了
- [ ] 連携機能設定完了
- [ ] 統合ダッシュボード作成完了

### テスト・運用準備
- [ ] サンプルデータでのテスト完了
- [ ] ユーザートレーニング完了
- [ ] 運用ルール策定完了
- [ ] バックアップ設定完了

---

このCRM/SFAシステムにより、営業活動の効率化と売上向上を実現し、既存のYouTube処理システムとのシナジー効果を最大化します。

実装過程で問題が発生した場合は、各フェーズごとに区切って段階的に対処することをお勧めします。